# Task Completion Checklist

When a task is completed, run through the following steps:

## 1. Format Code
```bash
nix fmt .
# or: just lint
```
Alejandra will format all `.nix` files. This is also enforced by the pre-commit hook.

## 2. Check for Dead Code
The `deadnix` pre-commit hook will catch unused Nix bindings. If you added new imports or
variables, make sure they're actually used.

## 3. Run Flake Check
```bash
nix flake check
# or: just check
```
This runs all flake checks including the pre-commit hooks.

## 4. Test Activation (if applicable)
If you changed home-manager modules or configuration:
```bash
nix run
# or: just run
```
This will build and activate the home-manager configuration.

## 5. Commit with Conventional Commit Message
Commits must follow conventional commit format (enforced by `convco`):
- `feat: add new program configuration`
- `fix: correct package name in packages.nix`
- `chore: update flake inputs`
- `refactor: reorganize module structure`
- `docs: update README template`

## Notes
- The `.pre-commit-config.yaml` is auto-generated by `git-hooks.nix` -- DO NOT modify it directly.
- Secrets are managed via Pulumi ESC; never commit secrets to the repo.
- The README.md is generated from templates; edit `templates/README.j2.md` instead.
