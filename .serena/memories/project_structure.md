# Project Structure

```
/
├── flake.nix                    # Root flake: inputs and outputs
├── flake.lock                   # Pinned dependency versions
├── devenv.nix                   # Dev shell for THIS repo
├── devenv.yaml                  # devenv input config
├── justfile                     # Task runner commands
├── vira.hs                      # CI pipeline config
├── .envrc                       # direnv (loads devenv + Pulumi ESC secrets)
├── .vale.ini                    # Prose linting config
├── .pre-commit-config.yaml      # Generated by git-hooks.nix (DO NOT MODIFY)
├── .gitmodules                  # Git submodule for neovim config
├── README.md                    # GitHub profile README (generated)
│
├── configurations/              # Per-machine/per-user top-level configs
│   ├── home/
│   │   ├── ender.nix            # Generic Linux user
│   │   ├── ender@ender-hornet.nix  # Linux + AI server + all toolkits
│   │   └── robertbabaev.nix     # macOS user
│   └── darwin/
│       └── Roberts-Macbook-Air-2.nix  # macOS system config
│
├── modules/                     # Modular Nix configuration (heart of the project)
│   ├── flake/                   # Flake-level modules
│   │   ├── toplevel.nix         # Formatter (alejandra), `nix run` activation
│   │   ├── activate-home.nix    # Home-manager activation (user@host -> user@ fallback)
│   │   └── devshell.nix         # Dev shell config
│   │
│   ├── shared/nix/              # Shared between NixOS and home-manager
│   │   └── settings.nix         # Binary cache substituters and trusted keys
│   │
│   ├── home/                    # home-manager modules (auto-imported via default.nix)
│   │   ├── default.nix          # Auto-imports all sibling .nix files
│   │   ├── home.nix             # Base home config (shell aliases)
│   │   ├── me.nix               # Custom `me` option (username, fullname, email)
│   │   ├── nix.nix              # Nix/nixpkgs config (Lix, overlays, unfree, unstable)
│   │   ├── packages.nix         # All home packages (grouped: dev, security, devops, utility, etc.)
│   │   ├── git.nix              # Git config (difftastic, aliases)
│   │   ├── shell.nix            # Shell programs (bash, zoxide)
│   │   ├── targets.nix          # Platform-specific targets
│   │   ├── fonts.nix, direnv.nix, nix-index.nix, gc.nix
│   │   │
│   │   ├── programs/            # Individual program configs (auto-imported)
│   │   │   ├── fish/, zsh/, starship/, neovim/, kitty/  # Shell & terminal
│   │   │   ├── opencode.nix, mcp.nix                    # AI tooling
│   │   │   ├── lazygit.nix, lazydocker.nix, lazysql.nix # TUI tools
│   │   │   ├── fzf.nix, fd.nix, bat.nix, eza.nix, ripgrep.nix  # CLI tools
│   │   │   ├── ssh.nix, gpg.nix, rbw.nix               # Security
│   │   │   ├── linux-only/      # Linux-specific programs
│   │   │   └── darwin-only/     # macOS-specific programs
│   │   │
│   │   ├── toolkits/            # Language toolkits (imported per-configuration, NOT auto-imported)
│   │   │   ├── rust.nix, python.nix, javascript.nix, ai-server.nix
│   │   │   └── default.nix     # Empty placeholder
│   │   │
│   │   ├── services/            # systemd/launchd services (auto-imported)
│   │   └── scripts/             # Custom shell scripts
│   │
│   ├── darwin/                  # nix-darwin modules (macOS system settings)
│   └── nixos/                   # NixOS modules
│
├── dotfiles/                    # Dotfiles managed via GNU Stow
│   ├── nvim/                    # Neovim config (git submodule)
│   └── starship/                # Starship prompt config
│
├── templates/                   # README generation templates (Jinja2)
└── styles/                      # Vale prose linting styles
```
